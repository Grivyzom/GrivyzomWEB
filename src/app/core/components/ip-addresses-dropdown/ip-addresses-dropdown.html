<div class="ip-dropdown-container modal-mode">
  <!-- Botón de información (opcional) -->
  @if (showInfoButton) {
    <div class="info-header">
      <button class="info-button-link" (click)="handleInfoClick()" title="¿Por qué hay varias direcciones?">
        <span class="info-icon">ⓘ</span>
        <span class="info-text">¿Por qué hay varias direcciones?</span>
      </button>
    </div>
  }

  <!-- Lista de servidores siempre visible en el modal -->
  <div class="servers-list-modal">
    @for (server of servers(); track server.id) {
      <div class="server-item"
           [class.selected]="selectedServer().id === server.id"
           (click)="selectServer(server)">
        <div class="server-icon">
          <img [src]="server.icon" [alt]="server.name + ' icon'" class="server-icon-img" [class.bedrock-icon]="server.id === 'bedrock'">
        </div>
        <div class="server-info">
          <p class="server-name">{{ server.name }}</p>
          <p class="server-ip">{{ server.ip }}</p>
          @if (server.description) {
            <p class="server-description">{{ server.description }}</p>
          }
        </div>
        <button class="copy-button"
                (click)="copyToClipboard($event, server)"
                title="Copiar IP">
          <svg class="copy-icon clipboard-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
        </button>
      </div>
    }
  </div>

  <!-- Botón Hecho -->
  <button class="done-button" (click)="closeDropdown()">
    <span class="border-animation border-top"></span>
    <span class="border-animation border-bottom"></span>
    <span class="fill-animation fill-top"></span>
    <span class="fill-animation fill-bottom"></span>
    <span class="overlay-animation"></span>
    <span class="button-content">Hecho</span>
  </button>
</div>